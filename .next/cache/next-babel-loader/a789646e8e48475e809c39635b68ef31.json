{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { ResourcePicker } from '@shopify/app-bridge-react';\nimport { TextField, Form, FormLayout, Button, ButtonGroup } from '@shopify/polaris';\nimport _ from 'lodash';\n\nvar CreateQuestionForm = function CreateQuestionForm() {\n  var _useState = useState({\n    1: {\n      value: '',\n      items: []\n    },\n    2: {\n      value: '',\n      items: []\n    },\n    3: {\n      value: '',\n      items: []\n    },\n    4: {\n      value: '',\n      items: []\n    }\n  }),\n      options = _useState[0],\n      setOptions = _useState[1];\n\n  var _useState2 = useState(''),\n      question = _useState2[0],\n      setQuestion = _useState2[1];\n\n  var _useState3 = useState(2),\n      numOptions = _useState3[0],\n      setNumOptions = _useState3[1];\n\n  var _useState4 = useState(false),\n      open = _useState4[0],\n      setOpen = _useState4[1];\n\n  var _useState5 = useState(0),\n      currOption = _useState5[0],\n      setCurrOption = _useState5[1];\n\n  var handleAddOption = useCallback(function () {\n    if (numOptions > 4) {\n      setNumOptions(4);\n    } else if (numOptions < 2) {\n      setNumOptions(2);\n    } else if (numOptions !== 4) {\n      setNumOptions(numOptions + 1);\n    }\n  });\n  var handleRemoveOption = useCallback(function () {\n    if (numOptions > 4) {\n      setNumOptions(4);\n    } else if (numOptions < 2) {\n      setNumOptions(2);\n    } else if (numOptions !== 2) {\n      if (options[4].value !== '' && numOptions === 4) {\n        options[4].value = '';\n        options[4].items = [];\n      }\n\n      ;\n\n      if (options[3].value !== '' && numOptions === 3) {\n        options[3].value = '';\n        options[3].items = [];\n      }\n\n      ;\n      setNumOptions(numOptions - 1);\n    }\n  });\n  var handleQuestion = useCallback(function (question) {\n    return setQuestion(question);\n  }, []);\n  var handleSubmit = useCallback(function () {\n    var filteredOptions = options.filter(function (option) {\n      return option.value !== '';\n    });\n    var payload = {\n      question: question,\n      filteredOptions: filteredOptions\n    };\n    console.log(payload);\n  });\n\n  var handleChange = function handleChange(item, val) {\n    setOptions(_objectSpread({}, options, _defineProperty({}, item, {\n      value: val,\n      items: options[item].items\n    })));\n  };\n\n  var displayOptions = function displayOptions(opts) {\n    return opts.map(function (item) {\n      return __jsx(\"div\", {\n        key: item\n      }, __jsx(TextField, {\n        label: \"Option \".concat(item),\n        type: \"text\",\n        value: options[item].value,\n        onChange: function onChange(val) {\n          return handleChange(item, val);\n        }\n      }), __jsx(Button, {\n        onClick: function onClick() {\n          setOpen(true);\n          setCurrOption(item);\n        }\n      }, \"Add Item\"));\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(ResourcePicker, {\n    resourceType: \"Product\",\n    showVariants: false,\n    open: open,\n    onSelection: function onSelection(resources) {\n      setOptions(_objectSpread({}, options, _defineProperty({}, currOption, {\n        value: options[currOption].value,\n        items: resources.selection\n      })));\n      setOpen(false);\n      setCurrOption(0);\n    },\n    onCancel: function onCancel() {\n      setOpen(false);\n      setCurrOption(0);\n    }\n  }), __jsx(Form, {\n    noValidate: true,\n    onSubmit: handleSubmit\n  }, __jsx(FormLayout, null, __jsx(TextField, {\n    value: question,\n    onChange: handleQuestion,\n    label: \"Question\",\n    type: \"text\",\n    placeholder: \"Which of the following do you prefer, etc\"\n  }), __jsx(ButtonGroup, null, numOptions === 4 ? __jsx(Button, {\n    primary: true,\n    disabled: true\n  }, \"Add Option\") : __jsx(Button, {\n    primary: true,\n    onClick: handleAddOption\n  }, \"Add Option\"), numOptions === 2 ? __jsx(Button, {\n    secondary: true,\n    disabled: true\n  }, \"Remove Option\") : __jsx(Button, {\n    secondary: true,\n    onClick: handleRemoveOption\n  }, \"Remove Option\")), displayOptions(_.range(1, _parseInt(numOptions, 10) + 1)), __jsx(Button, {\n    primary: true,\n    onClick: handleSubmit\n  }, \"Submit\"))));\n};\n\nexport default CreateQuestionForm;","map":{"version":3,"sources":["C:/Users/teren/Desktop/item_match/components/CreateQuestionForm.js"],"names":["React","useState","useCallback","useEffect","ResourcePicker","TextField","Form","FormLayout","Button","ButtonGroup","_","CreateQuestionForm","value","items","options","setOptions","question","setQuestion","numOptions","setNumOptions","open","setOpen","currOption","setCurrOption","handleAddOption","handleRemoveOption","handleQuestion","handleSubmit","filteredOptions","filter","option","payload","console","log","handleChange","item","val","displayOptions","opts","map","resources","selection","range"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,WAA1B,EAAuCC,SAAvC,QAAwD,OAAxD;AACA,SAASC,cAAT,QAA+B,2BAA/B;AACA,SACIC,SADJ,EAEIC,IAFJ,EAGIC,UAHJ,EAIIC,MAJJ,EAKIC,WALJ,QAMO,kBANP;AAOA,OAAOC,CAAP,MAAc,QAAd;;AAEA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAAA,kBACCV,QAAQ,CAAC;AACnC,OAAG;AAAEW,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,KAAK,EAAE;AAApB,KADgC;AAEnC,OAAG;AAAED,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,KAAK,EAAE;AAApB,KAFgC;AAGnC,OAAG;AAAED,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,KAAK,EAAE;AAApB,KAHgC;AAInC,OAAG;AAAED,MAAAA,KAAK,EAAE,EAAT;AAAaC,MAAAA,KAAK,EAAE;AAApB;AAJgC,GAAD,CADT;AAAA,MACtBC,OADsB;AAAA,MACbC,UADa;;AAAA,mBAOGd,QAAQ,CAAC,EAAD,CAPX;AAAA,MAOtBe,QAPsB;AAAA,MAOZC,WAPY;;AAAA,mBAQOhB,QAAQ,CAAC,CAAD,CARf;AAAA,MAQtBiB,UARsB;AAAA,MAQVC,aARU;;AAAA,mBASLlB,QAAQ,CAAC,KAAD,CATH;AAAA,MAStBmB,IATsB;AAAA,MAShBC,OATgB;;AAAA,mBAUOpB,QAAQ,CAAC,CAAD,CAVf;AAAA,MAUtBqB,UAVsB;AAAA,MAUVC,aAVU;;AAY7B,MAAMC,eAAe,GAAGtB,WAAW,CAAC,YAAM;AACtC,QAAIgB,UAAU,GAAG,CAAjB,EAAoB;AAChBC,MAAAA,aAAa,CAAC,CAAD,CAAb;AACH,KAFD,MAEO,IAAID,UAAU,GAAG,CAAjB,EAAoB;AACvBC,MAAAA,aAAa,CAAC,CAAD,CAAb;AACH,KAFM,MAEA,IAAID,UAAU,KAAK,CAAnB,EAAsB;AACzBC,MAAAA,aAAa,CAACD,UAAU,GAAG,CAAd,CAAb;AACH;AACJ,GARkC,CAAnC;AAUA,MAAMO,kBAAkB,GAAGvB,WAAW,CAAC,YAAM;AACzC,QAAIgB,UAAU,GAAG,CAAjB,EAAoB;AAChBC,MAAAA,aAAa,CAAC,CAAD,CAAb;AACH,KAFD,MAEO,IAAID,UAAU,GAAG,CAAjB,EAAoB;AACvBC,MAAAA,aAAa,CAAC,CAAD,CAAb;AACH,KAFM,MAEA,IAAID,UAAU,KAAK,CAAnB,EAAsB;AACzB,UAAIJ,OAAO,CAAC,CAAD,CAAP,CAAWF,KAAX,KAAqB,EAArB,IAA2BM,UAAU,KAAK,CAA9C,EAAiD;AAAEJ,QAAAA,OAAO,CAAC,CAAD,CAAP,CAAWF,KAAX,GAAmB,EAAnB;AAAuBE,QAAAA,OAAO,CAAC,CAAD,CAAP,CAAWD,KAAX,GAAmB,EAAnB;AAAuB;;AAAA;;AACjG,UAAIC,OAAO,CAAC,CAAD,CAAP,CAAWF,KAAX,KAAqB,EAArB,IAA2BM,UAAU,KAAK,CAA9C,EAAiD;AAAEJ,QAAAA,OAAO,CAAC,CAAD,CAAP,CAAWF,KAAX,GAAmB,EAAnB;AAAuBE,QAAAA,OAAO,CAAC,CAAD,CAAP,CAAWD,KAAX,GAAmB,EAAnB;AAAuB;;AAAA;AACjGM,MAAAA,aAAa,CAACD,UAAU,GAAG,CAAd,CAAb;AACH;AACJ,GAVqC,CAAtC;AAYA,MAAMQ,cAAc,GAAGxB,WAAW,CAAC,UAAAc,QAAQ;AAAA,WAAIC,WAAW,CAACD,QAAD,CAAf;AAAA,GAAT,EAAoC,EAApC,CAAlC;AACA,MAAMW,YAAY,GAAGzB,WAAW,CAAC,YAAM;AACnC,QAAM0B,eAAe,GAAGd,OAAO,CAACe,MAAR,CAAe,UAAAC,MAAM;AAAA,aAAIA,MAAM,CAAClB,KAAP,KAAiB,EAArB;AAAA,KAArB,CAAxB;AACA,QAAMmB,OAAO,GAAG;AACZf,MAAAA,QAAQ,EAARA,QADY;AAEZY,MAAAA,eAAe,EAAfA;AAFY,KAAhB;AAIAI,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACH,GAP+B,CAAhC;;AAQA,MAAMG,YAAY,GAAG,SAAfA,YAAe,CAACC,IAAD,EAAOC,GAAP,EAAe;AAChCrB,IAAAA,UAAU,mBAAMD,OAAN,sBAAgBqB,IAAhB,EAAuB;AAAEvB,MAAAA,KAAK,EAAEwB,GAAT;AAAcvB,MAAAA,KAAK,EAAEC,OAAO,CAACqB,IAAD,CAAP,CAActB;AAAnC,KAAvB,GAAV;AACH,GAFD;;AAIA,MAAMwB,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,IAAI,EAAI;AAC3B,WAAOA,IAAI,CAACC,GAAL,CAAS,UAAAJ,IAAI,EAAI;AACpB,aACI;AAAK,QAAA,GAAG,EAAEA;AAAV,SACI,MAAC,SAAD;AACI,QAAA,KAAK,mBAAYA,IAAZ,CADT;AAEI,QAAA,IAAI,EAAC,MAFT;AAGI,QAAA,KAAK,EAAErB,OAAO,CAACqB,IAAD,CAAP,CAAcvB,KAHzB;AAII,QAAA,QAAQ,EAAE,kBAAAwB,GAAG;AAAA,iBAAIF,YAAY,CAACC,IAAD,EAAOC,GAAP,CAAhB;AAAA;AAJjB,QADJ,EAOI,MAAC,MAAD;AACI,QAAA,OAAO,EAAE,mBAAM;AACXf,UAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,UAAAA,aAAa,CAACY,IAAD,CAAb;AACH;AAJL,oBAPJ,CADJ;AAgBH,KAjBM,CAAP;AAkBH,GAnBD;;AAqBA,SACI,MAAC,KAAD,CAAO,QAAP,QACI,MAAC,cAAD;AACI,IAAA,YAAY,EAAC,SADjB;AAEI,IAAA,YAAY,EAAE,KAFlB;AAGI,IAAA,IAAI,EAAEf,IAHV;AAII,IAAA,WAAW,EAAE,qBAACoB,SAAD,EAAe;AACxBzB,MAAAA,UAAU,mBACHD,OADG,sBAELQ,UAFK,EAEQ;AAAEV,QAAAA,KAAK,EAAEE,OAAO,CAACQ,UAAD,CAAP,CAAoBV,KAA7B;AAAoCC,QAAAA,KAAK,EAAE2B,SAAS,CAACC;AAArD,OAFR,GAAV;AAIApB,MAAAA,OAAO,CAAC,KAAD,CAAP;AACAE,MAAAA,aAAa,CAAC,CAAD,CAAb;AACH,KAXL;AAaI,IAAA,QAAQ,EAAE,oBAAM;AACZF,MAAAA,OAAO,CAAC,KAAD,CAAP;AACAE,MAAAA,aAAa,CAAC,CAAD,CAAb;AACH;AAhBL,IADJ,EAoBI,MAAC,IAAD;AAAM,IAAA,UAAU,MAAhB;AAAiB,IAAA,QAAQ,EAAEI;AAA3B,KACI,MAAC,UAAD,QACI,MAAC,SAAD;AACI,IAAA,KAAK,EAAEX,QADX;AAEI,IAAA,QAAQ,EAAEU,cAFd;AAGI,IAAA,KAAK,EAAC,UAHV;AAII,IAAA,IAAI,EAAC,MAJT;AAKI,IAAA,WAAW,EAAC;AALhB,IADJ,EAQI,MAAC,WAAD,QACKR,UAAU,KAAK,CAAf,GACG,MAAC,MAAD;AAAQ,IAAA,OAAO,MAAf;AAAgB,IAAA,QAAQ;AAAxB,kBADH,GAKO,MAAC,MAAD;AAAQ,IAAA,OAAO,MAAf;AAAgB,IAAA,OAAO,EAAEM;AAAzB,kBANZ,EAWKN,UAAU,KAAK,CAAf,GACG,MAAC,MAAD;AAAQ,IAAA,SAAS,MAAjB;AAAkB,IAAA,QAAQ;AAA1B,qBADH,GAKO,MAAC,MAAD;AAAQ,IAAA,SAAS,MAAjB;AAAkB,IAAA,OAAO,EAAEO;AAA3B,qBAhBZ,CARJ,EA8BKY,cAAc,CAAC3B,CAAC,CAACgC,KAAF,CAAQ,CAAR,EAAW,UAASxB,UAAT,EAAqB,EAArB,IAA2B,CAAtC,CAAD,CA9BnB,EAgCI,MAAC,MAAD;AAAQ,IAAA,OAAO,MAAf;AAAgB,IAAA,OAAO,EAAES;AAAzB,cAhCJ,CADJ,CApBJ,CADJ;AA2DH,CA/HD;;AAiIA,eAAehB,kBAAf","sourcesContent":["import React, { useState, useCallback, useEffect } from 'react';\r\nimport { ResourcePicker } from '@shopify/app-bridge-react';\r\nimport {\r\n    TextField,\r\n    Form,\r\n    FormLayout,\r\n    Button,\r\n    ButtonGroup\r\n} from '@shopify/polaris';\r\nimport _ from 'lodash';\r\n\r\nconst CreateQuestionForm = () => {\r\n    const [options, setOptions] = useState({\r\n        1: { value: '', items: [] },\r\n        2: { value: '', items: [] },\r\n        3: { value: '', items: [] },\r\n        4: { value: '', items: [] }\r\n    });\r\n    const [question, setQuestion] = useState('');\r\n    const [numOptions, setNumOptions] = useState(2);\r\n    const [open, setOpen] = useState(false);\r\n    const [currOption, setCurrOption] = useState(0);\r\n\r\n    const handleAddOption = useCallback(() => {\r\n        if (numOptions > 4) {\r\n            setNumOptions(4);\r\n        } else if (numOptions < 2) {\r\n            setNumOptions(2);\r\n        } else if (numOptions !== 4) {\r\n            setNumOptions(numOptions + 1);\r\n        }\r\n    });\r\n\r\n    const handleRemoveOption = useCallback(() => {\r\n        if (numOptions > 4) {\r\n            setNumOptions(4);\r\n        } else if (numOptions < 2) {\r\n            setNumOptions(2);\r\n        } else if (numOptions !== 2) {\r\n            if (options[4].value !== '' && numOptions === 4) { options[4].value = ''; options[4].items = [] };\r\n            if (options[3].value !== '' && numOptions === 3) { options[3].value = ''; options[3].items = [] };\r\n            setNumOptions(numOptions - 1);\r\n        }\r\n    });\r\n\r\n    const handleQuestion = useCallback(question => setQuestion(question), []);\r\n    const handleSubmit = useCallback(() => {\r\n        const filteredOptions = options.filter(option => option.value !== '');\r\n        const payload = {\r\n            question,\r\n            filteredOptions\r\n        }\r\n        console.log(payload)\r\n    });\r\n    const handleChange = (item, val) => {\r\n        setOptions({ ...options, [item]: { value: val, items: options[item].items } });\r\n    };\r\n\r\n    const displayOptions = opts => {\r\n        return opts.map(item => {\r\n            return (\r\n                <div key={item}>\r\n                    <TextField\r\n                        label={`Option ${item}`}\r\n                        type='text'\r\n                        value={options[item].value}\r\n                        onChange={val => handleChange(item, val)}\r\n                    />\r\n                    <Button\r\n                        onClick={() => {\r\n                            setOpen(true);\r\n                            setCurrOption(item);\r\n                        }}\r\n                    >Add Item</Button>\r\n                </div>\r\n            );\r\n        });\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ResourcePicker\r\n                resourceType=\"Product\"\r\n                showVariants={false}\r\n                open={open}\r\n                onSelection={(resources) => {\r\n                    setOptions({\r\n                        ...options,\r\n                        [currOption]: { value: options[currOption].value, items: resources.selection }\r\n                    })\r\n                    setOpen(false);\r\n                    setCurrOption(0);\r\n                }\r\n                }\r\n                onCancel={() => {\r\n                    setOpen(false);\r\n                    setCurrOption(0);\r\n                }}\r\n            />\r\n\r\n            <Form noValidate onSubmit={handleSubmit}>\r\n                <FormLayout>\r\n                    <TextField\r\n                        value={question}\r\n                        onChange={handleQuestion}\r\n                        label='Question'\r\n                        type='text'\r\n                        placeholder='Which of the following do you prefer, etc'\r\n                    />\r\n                    <ButtonGroup>\r\n                        {numOptions === 4 ? (\r\n                            <Button primary disabled>\r\n                                Add Option\r\n                            </Button>\r\n                        ) : (\r\n                                <Button primary onClick={handleAddOption}>\r\n                                    Add Option\r\n                                </Button>\r\n                            )}\r\n\r\n                        {numOptions === 2 ? (\r\n                            <Button secondary disabled>\r\n                                Remove Option\r\n                            </Button>\r\n                        ) : (\r\n                                <Button secondary onClick={handleRemoveOption}>\r\n                                    Remove Option\r\n                                </Button>\r\n                            )}\r\n                    </ButtonGroup>\r\n\r\n                    {displayOptions(_.range(1, parseInt(numOptions, 10) + 1))}\r\n\r\n                    <Button primary onClick={handleSubmit}>Submit</Button>\r\n                </FormLayout>\r\n            </Form>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default CreateQuestionForm;\r\n"]},"metadata":{},"sourceType":"module"}